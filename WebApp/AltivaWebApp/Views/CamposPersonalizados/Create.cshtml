@model AltivaWebApp.ViewModels.CamposPersonalizadosViewModel

@{
    ViewData["Title"] = "Create";
}

<div class=" col-md-12" ><div id="mensaje" hidden class="alert alert-danger col-md-4">Quito un campo</div></div>
<div>
    <a asp-action="Index" class="btn btn-link" >Atras</a>
</div>
<h4>Seleccione el campo que desea agregar</h4>
<hr />
<div class="row">
    <div class="col-md-6">
        <div class="col-md-3">
            <div class="form-group ">
                <button class="btn btn-dark" id="fechaHora">Fecha y hora</button>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group ">
                <button class="btn btn-dark" id="CheckBox">Check Box </button>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group ">
                <button class="btn btn-dark" id="TextArea">Texto Grande </button>
            </div>
        </div>
        <div class="col-md-3">
            <div class="form-group ">
                <button class="btn btn-dark" id="Text"> Texto Pequeño </button>
            </div>
        </div>
    </div>

    <div class="col-md-6 ">
        <h2>Campos Personalizados agregados</h2>
        <form asp-action="create" asp-controller="CamposPersonalizados">
            <div class="panel panel-default pre-scrollable" style="height:100rem;" id="panelCampos">
                <div class="col-md-4">
                    <ul id="ul"></ul>

                </div>
            </div>
            <button style="font-size:2rem;" type="submit" class="btn btn-link">Guardar&nbsp;<i class="fas fa-save"></i></button>
        </form>
    </div>
</div>





<script>

    var i = 0;
    $(document).ready(function () {
  
        $("#fechaHora").click(function () {

            $("#ul").append('<li id=li' + i + '><input hidden asp-for="tipo[]" name="tipo[]" id="fechayHora' + i + '" value="datetime-local"/>Nombre del campo fecha y hora: <input type="text"  required asp-for="nombre[]" name="nombre[]" class="form-control input-mini" id="' + i + '" /><button class="btn btn-link" onclick="eliminar(' + i + ');"><i class="fas fa-trash"></i></button></li>');
            i++;
        });
        $("#CheckBox").click(function () {

            $("#ul").append('<li id=li' + i + '><input hidden  asp-for="tipo[]" name="tipo[]"  id="checkbox' + i + '" value="checkbox"/>Nombre del campo CheckBox: <input type="text" required  asp-for="nombre[]" name="nombre[]" class="form-control input-mini" id=' + i + '/><button class="btn btn-link" onclick="eliminar(' + i + ');"><i class="fas fa-trash"></i></button></li>');
            i++;
        });
        $("#TextArea").click(function () {

            $("#ul").append('<li id=li' + i + '><input hidden asp-for="tipo[]" name="tipo[]" id="textArea' + i + '" value="textArea"/>Nombre del Texto Grande: <input required type="text"  asp-for="nombre[]" name="nombre[]" class="form-control input-mini" id=' + i + '/><button class="btn btn-link" onclick="eliminar(' + i + ');"><i class="fas fa-trash"></i></button></li>');
            i++;
        });
        $("#Text").click(function () {

            $("#ul").append('<li id=li' + i + '><input hidden asp-for="tipo[]" name="tipo[]" id="text' + i + '" value="text"/>Nombre del texto: <input type="text" required asp-for="nombre[]" name="nombre[]" class="form-control input-mini" id=' + i + '/><button class="btn btn-link" onclick="eliminar(' + i + ');"><i class="fas fa-trash"></i></button></li>');
            i++;
        });
    });
    function eliminar(id) {
        var opcion = confirm("Deseas eliminarlo");
        var mensaje;
        if (opcion == true) {
            $("#ul #li" + id + "").remove();
          
            $('#mensaje').show();

            i--;
            setTimeout(function () {
                $("#mensaje").fadeOut(10);
            }, 2000);

        } else {
            return;
        }
   

    }
</script>