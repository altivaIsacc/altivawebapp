@model AltivaWebApp.Domains.TbFdTipoCliente
@{
    ViewData["Title"] = "Crear Tipo Clientes";
}
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions{
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
<div class="container ">
    <div class="row">
        <div class="col-md-12"><h3>Tipo de clientes:</h3></div>
        <div class="col-md-2">
            <label>TIpo Cliente:</label>
            <select id="familias" class="form-control search-key">
                <option selected value="0" data-translate="selecciones">Seleccione</option>


            </select>
        </div>
        <div class="col-md-2">
            <br />

            <button class="btn btn-link " id="AgregarTipoCliente" value="crear">
                <span style="font-size: 2rem"><i class="fas fa-plus-circle"></i></span>
            </button>
            <button class="btn btn-link crearEditarFamilia" id="editarFamilia" value="editar">
                <span style="font-size: 2rem"><i class="fas fa-edit"></i></span>
            </button>
            <button id="eliminarFamilia" data-toggle="confirmation" class="btn btn-link">
                <span style="font-size: 2rem"><i class="fas fa-trash"></i></span>
            </button>
        </div>
        <div class="col-md-2">
            <label>Familia:</label>
            <select id="familia" class="form-control search-key">
                <option selected value="0" data-translate="selecciones">Seleccione</option>


            </select>
        </div>
        <div class="col-md-2">
            <br />
            <button class="btn btn-link crearEditarFamilia" value="crear">
                <span style="font-size: 2rem"><i class="fas fa-plus-circle"></i></span>
            </button>
            <button class="btn btn-link crearEditarFamilia" id="editarFamilia" value="editar">
                <span style="font-size: 2rem"><i class="fas fa-edit"></i></span>
            </button>
            <button id="eliminarFamilia" data-toggle="confirmation" class="btn btn-link">
                <span style="font-size: 2rem"><i class="fas fa-trash"></i></span>
            </button>
        </div>
        <div class="col-md-2">
            <label>Sub-Familia:</label>
            <select id="subfamlia" class="form-control search-key">
                <option selected value="0" data-translate="selecciones">Seleccione</option>


            </select>
        </div>
        <div class="col-md-2">
            <br />
            <button class="btn btn-link crearEditarFamilia" value="crear">
                <span style="font-size: 2rem"><i class="fas fa-plus-circle"></i></span>
            </button>
            <button class="btn btn-link crearEditarFamilia" id="editarFamilia" value="editar">
                <span style="font-size: 2rem"><i class="fas fa-edit"></i></span>
            </button>
            <button id="eliminarFamilia" data-toggle="confirmation" class="btn btn-link">
                <span style="font-size: 2rem"><i class="fas fa-trash"></i></span>
            </button>
        </div>
    </div>




</div>
<!--Modal agregar tipo cliente-->

<div class="modal fade right" id="modalTipoCliente" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">

    <div class="modal-dialog modal-full-height modal-right" role="document">


        <div class="modal-content">
            <div class="modal-header" id="head">
                <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="tipoCliente">

            </div>

        </div>
    </div>
</div>

<script>
    //function para llamar a vista parcial
    $('#AgregarTipoCliente').on("click", function () {
           $.ajax({
                    type: "get",
                    headers: {
                        "RequestVerificationToken": '@GetAntiXsrfRequestToken()'
                    },
               url: '/TipoCliente/PartialCrearTipoCliente/',

              success: function (data) {

                  $('#modalTipoCliente').modal('show');
                  
                  $('#tipoCliente').html(data);
                },
                    error: function (err, scnd) {
                        console.log(err.statusText);
                }
            });
    });
</script>